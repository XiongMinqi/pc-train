(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["undoMission"],{"4e9f":function(i,t,s){"use strict";s.r(t);var e=function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}]},[s("div",{staticClass:"display-align-center display-flex display-justify-between"},[s("div",{staticClass:"pageTitle"},[i._v("学习任务")]),s("div",[s("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(t){return i.jumpHistoryList("/statistMission")}}},[i._v("任务统计")]),s("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(t){return i.jumpHistoryList("/historyMission")}}},[i._v("历史记录")])],1)]),i.showMission?s("div",[i.missionList.length>0?s("div",[i._l(i.missionList,(function(t,e){return s("div",{key:e,staticClass:"cardsDetail"},[s("el-card",{staticClass:"box-card",class:!0===t.running?"border-true":"border-false"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[i._v(i._s(t.name))]),s("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(s){return i.checkDetail(t)}}},[i._v("查看详情")])],1),s("div",{staticClass:"text item"},[i._v("要求学习时长 : "+i._s(t.requireLearnTime)+"分钟")]),s("div",{staticClass:"text item"},[i._v("要求答对数量 : "+i._s(t.requireRightCount)+"道")]),s("div",{staticClass:"text item"},[i._v("发布时间 : "+i._s(t.publishTime))]),s("div",{staticClass:"text item"},[i._v("截至时间 : "+i._s(t.endTime))])])],1)})),s("div",{staticClass:"block"},[s("el-pagination",{attrs:{"current-page":i.currentPage,"page-sizes":[6,10,15,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:i.total},on:{"size-change":i.handleSizeChange,"current-change":i.handleCurrentChange}})],1)],2):s("div",{staticClass:"else"})]):i._e(),s("div",[s("el-dialog",{attrs:{title:i.missiondetail.name,visible:i.dialogVisible,width:"60%"},on:{"update:visible":function(t){i.dialogVisible=t}}},[s("div",{staticStyle:{"min-height":"40vh"}},[s("div",{staticClass:"text item"},[i._v("要求学习时长 : "+i._s(i.missiondetail.requireLearnTime)+"分钟")]),s("div",{staticClass:"text item"},[i._v("要求答对数量 : "+i._s(i.missiondetail.requireRightCount)+"道")]),s("div",{staticClass:"text item"},[i._v("目前学习时长 : "+i._s(i.missiondetail.learnTime)+"分钟")]),i.missiondetail.lastSubmitTime?s("div",{staticClass:"text item"},[i._v("上次提交练习时间 : "+i._s(i.missiondetail.lastSubmitTime))]):s("div",{staticClass:"text item"},[i._v("上次提交练习时间 : 暂时无提交记录")]),s("div",{staticClass:"text item"},[i._v("发布时间 : "+i._s(i.missiondetail.publishTime))]),s("div",{staticClass:"text item"},[i._v("截至时间 : "+i._s(i.missiondetail.endTime))]),s("div",{staticClass:"text item"},[i._v("持续时间 : "+i._s(i.missiondetail.msg))]),s("div",{staticClass:"text item"},[i._v("作业描述 : "+i._s(i.missiondetail.description))])]),s("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[s("span",[s("el-button",{attrs:{type:"primary"},on:{click:i.joinMisson}},[i._v("进入作业")])],1)])])],1)])},a=[],n=(s("d81d"),{data:function(){return{loading:!0,showMission:!1,page:1,limit:6,dialogVisible:!1,currentPage:1,missiondetail:{},missionList:[],total:0}},components:{},methods:{jumpHistoryList:function(i){this.$router.push({path:i})},handleSizeChange:function(i){this.loading=!0,this.page=1,this.limit=i,this.getUndoMission()},handleCurrentChange:function(i){this.loading=!0,this.page=i,this.getUndoMission()},checkDetail:function(i){this.missiondetail=i,this.dialogVisible=!0},timeChange:function(i){var t=i,s="";if(t<60)return s=t+"分钟",s;if(t<1440){var e=Math.floor(t/60),a=t-60*e;return s=a>0?e+"小时"+a+"分钟":e+"小时",s}var n=Math.floor(t/1440),o=Math.floor((t-1440*n)/60),r=t-1440*n-60*o;return s=o>0?n+"天"+o+"小时"+r+"分钟":r>0?n+"天"+r+"分钟":n+"天",s},joinMisson:function(){this.dialogVisible=!1,this.$router.push({name:"doMission",path:"/doMission",query:{id:this.missiondetail.id}})},getUndoMission:function(){var i=this,t={limit:this.limit,page:this.page,object:{isRunning:!0}};this.$api.getUndoMission(t).then((function(t){i.loading=!1,i.showMission=!0,1e3===t.data.code&&i.$router.push({name:"login",path:"/login"}),0===t.data.code?(i.missionList=t.data.data,i.total=t.data.count,i.missionList.map((function(t){t.publishTime=i.timeFormat(t.publishTime),t.lastSubmitTime&&(t.lastSubmitTime=i.timeFormat(t.lastSubmitTime));var s=i.timeChange(t.lastTime);i.$set(t,"msg",s);var e=Date.parse(t.publishTime)+6e4*t.lastTime,a=i.timeFormat(e);i.$set(t,"endTime",a)}))):i.$message({message:t.data.msg,type:"warning"})})).catch((function(t){i.loading=!1,i.showMission=!0,i.$message({message:"获取失败",type:"warning"})}))}},mounted:function(){this.getUndoMission()},watch:{},computed:{}}),o=n,r=(s("68a0"),s("2877")),l=Object(r["a"])(o,e,a,!1,null,"17dd9878",null);t["default"]=l.exports},"68a0":function(i,t,s){"use strict";var e=s("6f6d"),a=s.n(e);a.a},"6f6d":function(i,t,s){},b727:function(i,t,s){var e=s("0366"),a=s("44ad"),n=s("7b0b"),o=s("50c4"),r=s("65f0"),l=[].push,d=function(i){var t=1==i,s=2==i,d=3==i,c=4==i,m=6==i,u=5==i||m;return function(h,v,p,g){for(var f,_,b=n(h),C=a(b),y=e(v,p,3),x=o(C.length),M=0,T=g||r,w=t?T(h,x):s?T(h,0):void 0;x>M;M++)if((u||M in C)&&(f=C[M],_=y(f,M,b),i))if(t)w[M]=_;else if(_)switch(i){case 3:return!0;case 5:return f;case 6:return M;case 2:l.call(w,f)}else if(c)return!1;return m?-1:d||c?c:w}};i.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},d81d:function(i,t,s){"use strict";var e=s("23e7"),a=s("b727").map,n=s("1dde"),o=s("ae40"),r=n("map"),l=o("map");e({target:"Array",proto:!0,forced:!r||!l},{map:function(i){return a(this,i,arguments.length>1?arguments[1]:void 0)}})}}]);