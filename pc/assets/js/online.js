(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["online"],{3235:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[s("div",{staticClass:"display-align-center display-flex display-justify-between"},[s("div",{staticClass:"pageTitle"},[t._v("在线练习")]),s("div",[s("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(e){return t.jumpHistoryList("/practiseRecord")}}},[t._v("练习记录")])],1)]),!0===t.showselect?s("div",[s("div",[s("div",{staticClass:"choose"},[s("div",{staticClass:"classname"},[s("div",{staticClass:"wordes"},[t._v("题库 :")]),s("div",[s("el-select",{attrs:{placeholder:"请选择题库"},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}},t._l(t.sourceList,(function(t){return s("el-option",{key:t.key,attrs:{value:t.value}})})),1)],1)]),s("div",{staticClass:"classname"},[s("div",{staticClass:"wordes"},[t._v("科目 :")]),s("div",[s("el-select",{attrs:{placeholder:"请选择科目"},model:{value:t.classname,callback:function(e){t.classname=e},expression:"classname"}},[s("el-option",{key:"",attrs:{value:"不限"}}),t._l(t.classList,(function(t){return s("el-option",{key:t.key,attrs:{value:t.value}})}))],2)],1)]),s("div",{staticClass:"classname"},[s("div",{staticClass:"wordes"},[t._v("题型 :")]),s("div",[s("el-select",{attrs:{placeholder:"请选择题型"},model:{value:t.topicType,callback:function(e){t.topicType=e},expression:"topicType"}},t._l(t.questionType,(function(t){return s("el-option",{key:t.key,attrs:{value:t.value}})})),1)],1)]),s("div",{staticClass:"classname"},[s("div",{staticClass:"wordes"},[t._v("数量 :")]),s("div",[s("el-select",{attrs:{placeholder:"请选择题目条数"},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},t._l(t.listSize,(function(t){return s("el-option",{key:t,attrs:{value:t}})})),1)],1)]),t._m(0),s("div",{staticClass:"btn"},[s("el-button",{attrs:{type:"primary"},on:{click:t.chooseClass}},[t._v("开始练习")])],1)])])]):s("div",{staticClass:"prictise"},[s("div",[s("div",[s("div",[s("div",{staticClass:"detail"},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("div",{staticClass:"index"},[t._v(t._s(t.index+1))]),t._l(t.questionType,(function(e,i){return s("div",{key:i,staticClass:"questiontype"},[t.questionDetail.type==e.key?s("span",[t._v("【"+t._s(e.value)+"】")]):t._e()])}))],2),s("div",{staticStyle:{"padding-right":"20px"}},[s("span",{staticStyle:{color:"#d56f2b"}},[t._v(t._s(t.index+1))]),t._v(" /"+t._s(t.data.size)+" ")])]),s("div",{staticClass:"content"},[t._v(t._s(t.questionDetail.content))])]),s("div",{staticClass:"traincontent"},[0==t.questionDetail.type?s("div",t._l(t.questionDetail.options,(function(e,i){return s("div",{key:i},[s("el-radio-group",{attrs:{disabled:t.disabled},on:{change:t.chooseRadio},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[s("el-radio",{attrs:{label:e.order}},[0===e.order?s("span",[t._v("A、")]):t._e(),1===e.order?s("span",[t._v("B、")]):t._e(),2===e.order?s("span",[t._v("C、")]):t._e(),3===e.order?s("span",[t._v("D、")]):t._e(),t._v(" "+t._s(e.content)+" ")])],1)],1)})),0):t._e(),3==t.questionDetail.type?s("div",[s("el-radio-group",{attrs:{disabled:t.disabled},on:{change:t.juage},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[s("div",{staticStyle:{padding:"0 0 10px 0"}},[s("el-radio",{attrs:{label:"judge1"}},[t._v("正确")])],1),s("div",[s("el-radio",{attrs:{label:"judge2"}},[t._v("错误")])],1)])],1):t._e(),1==t.questionDetail.type?s("div",t._l(t.questionDetail.options,(function(e,i){return s("div",{key:i},[s("el-checkbox-group",{attrs:{disabled:t.disabled},on:{change:t.checkbox},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[s("el-checkbox",{attrs:{label:e.order}},[0===e.order?s("span",[t._v("A、")]):t._e(),1===e.order?s("span",[t._v("B、")]):t._e(),2===e.order?s("span",[t._v("C、")]):t._e(),3===e.order?s("span",[t._v("D、")]):t._e(),4===e.order?s("span",[t._v("E、")]):t._e(),5===e.order?s("span",[t._v("F、")]):t._e(),t._v(" "+t._s(e.content)+" ")])],1)],1)})),0):t._e(),2==t.questionDetail.type||4==t.questionDetail.type||5==t.questionDetail.type?s("div",[s("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1):t._e()]),s("div",{staticClass:"checkRightAnswer"},[s("div",{on:{click:t.checkRightAnswer}},[s("img",{attrs:{src:i("cabe"),alt:""}})]),t.showAnswer?s("div",{on:{click:t.checkRightAnswer}},[t._v("关闭提示")]):s("div",{on:{click:t.checkRightAnswer}},[t._v("查看提示")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAnswer,expression:"showAnswer"}]},[t.questionDetail.answerResolve?s("div",{staticStyle:{"margin-bottom":"20px"}},[t._v(" 提示: "),s("span",{staticStyle:{color:"red","padding-left":"10px"}},[t._v(t._s(t.questionDetail.answerResolve))])]):s("div",{staticStyle:{"margin-bottom":"10px"}},[t._v(" 提示: "),s("span",{staticStyle:{color:"red","padding-left":"10px"}},[t._v("暂无提示")])]),t.choosed?s("div",[s("div",{staticStyle:{display:"flex","align-items":"center","padding-bottom":"10px"}},[s("div",[t._v("正确答案 :")]),s("div",{staticStyle:{"padding-left":"10px",color:"green"}},t._l(t.questionDetail.answers,(function(e,i){return s("span",{key:i},[s("span",[t._v(t._s(e.content))])])})),0)]),s("div",[!0===t.result?s("div",{staticStyle:{color:"green"}},[t._v("回答正确")]):s("div",{staticStyle:{color:"red"}},[t._v("回答错误")])])]):t._e()])])]),s("div",{staticClass:"choosebtn"},[s("el-button",{attrs:{type:"warning",round:""},on:{click:t.abandon}},[t._v("放弃练习")]),t.showBtn?s("div",[s("el-button",{attrs:{type:"primary",round:""},on:{click:t.confirm}},[t._v("完成")])],1):s("div",[t.index===t.questionId.length-1?s("div",[s("el-button",{attrs:{type:"primary",round:""},on:{click:t.submitTrain}},[t._v("提交练习")])],1):s("div",[s("el-button",{attrs:{type:"primary",round:""},on:{click:t.after}},[t._v("下一题")])],1)])],1)]),s("el-dialog",{attrs:{title:"练习结果",visible:t.dialogVisible,width:"30%","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",[s("div",[s("div",{staticClass:"padding"},[t._v("本次答对题目数: "+t._s(t.data.size))])]),s("div",[s("div",{staticClass:"flex justify-between aligh-center"},[s("div",{staticClass:"w30"},[t._v("正确率: "+t._s(t.rightPercent))]),s("div",{staticClass:"w50"},[t._v("用时: "+t._s(t.trainTime))])]),s("div",{staticClass:"flex justify-between aligh-center"},[s("div",{staticClass:"w30"},[t._v("错题数: "+t._s(t.errorCount))]),s("div",{staticClass:"w50"},[t._v("积分: 1")])])])]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1,t.showselect=!0,t.disabled=!1,t.showAnswer=!1,t.choosed=!1,t.showBtn=!0,t.radio="",t.checkList=[],t.questionDetail={}}}},[t._v("确 定")])],1)])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info"},[i("div",{staticStyle:{"padding-top":"5px"}},[t._v("若练习中途退出则不计入练习记录")])])}],n=(i("d81d"),i("a434"),i("b0c0"),i("a9e3"),{data:function(){return{subjectname:"不限",classname:"不限",topicType:"单选题",easyType:"不限",source:"",dialogVisible:!1,bankData:{page:1,limit:500,object:{isFilterByAuth:!1,type:1}},classList:[],disabled:!1,subjectList:[],questionType:[],showBtn:!0,choosed:!1,size:5,listSize:["5","10","15","20","25","30"],sourceList:[],data:{criteria:{level:null,subjectId:null,type:0,questionLibraryIds:[]},fromMyWrongQuestionSet:!1,size:5},diffcult:[{key:"EASY",value:"简单"},{key:"NORMAL",value:"普通"},{key:"HARD",value:"困难"}],questionId:"",questionDetail:{},radio:"",checkList:[],textarea:"",judge1:"",judge2:"",trainTime:"",index:0,duringTime:"",type:!1,showAnswer:!1,showselect:!0,rightQuestionId:[],radioing:"",result:!1,beginTime:0,endTime:0,errorCount:0,rightPercent:"",loading:!0,choosedisabled:!1,flag:!1}},components:{},methods:{jumpHistoryList:function(t){this.$router.push({path:t})},abandon:function(){this.showselect=!0,this.disabled=!1,this.showAnswer=!1,this.choosed=!1,this.showBtn=!0,this.radio="",this.checkList=[],this.questionDetail={}},confirm:function(){""!==this.radio||this.checkList.length>0?(this.showAnswer=!0,this.disabled=!0,this.showBtn=!1,this.choosed=!0):this.$message({message:"至少选择一个选项才能进入下一题",type:"none"})},after:function(){this.loading=!0,this.index+=1,this.index<this.questionId.length?(!0===this.result&&this.rightQuestionId.push(this.questionDetail.id),this.disabled=!1,this.showAnswer=!1,this.choosed=!1,this.showBtn=!0,this.radio="",this.checkList=[],this.questionDetail={},this.getInfo(this.questionId[this.index])):(this.index-=1,this.$message({message:"当前是最后一题",type:"warning"}))},submitTrain:function(){var t=this;!0===this.result&&this.rightQuestionId.push(this.questionDetail.id),this.dialogVisible=!0,this.endTime=Date.parse(new Date);var e=this.endTime-this.beginTime;if(e/1e3>=60)if(e%6e4===0){var i=e/6e4;this.trainTime=i+"分钟"}else{var s=Math.floor(e/1e3/60),a=e/1e3-60*s;a<10&&(a="0"+a),this.trainTime=s+"分钟"+a+"秒"}else this.trainTime=e/1e3+"秒";this.errorCount=this.data.size-this.rightQuestionId.length,this.rightPercent=Math.floor(this.rightQuestionId.length/this.data.size*100)+"%";JSON.parse(localStorage.getItem("userInfo"));var n={costSeconds:e/1e3,questionNumber:this.data.size,rightNumber:this.rightQuestionId.length};this.$grade.submitPractise(n).then((function(e){1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code||t.$message({message:e.data.msg,type:"warning"})})).catch()},checkRightAnswer:function(){this.showAnswer=!this.showAnswer},getdict:function(){var t=this;this.$grade.getdict().then((function(e){t.loading=!1,1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code?(t.classList=e.data.data[0]["科目名称"],t.subjectList=e.data.data[0]["专业名称"],e.data.data[0]["题目类型"].map((function(e){"单选题"!=e.value&&"多选题"!=e.value&&"判断题"!=e.value||t.questionType.push(e)}))):t.$message({message:e.data.msg,typr:"warning"})})).catch((function(e){t.loading=!1}))},getWorkList:function(){var t=this;this.$grade.getBankList(this.bankData).then((function(e){if(t.loading=!1,1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code){if(t.sourceList=[],e.data.data){var i={};e.data.data.map((function(e){i={value:e.name,key:e.id},t.sourceList.push(i)}))}}else t.$message({message:e.data.msg,typr:"warning"})})).catch((function(e){t.loading=!1,t.$message({message:"获取失败",type:"warning"})}))},getInfo:function(t){var e=this;this.loading=!0,this.$grade.getErrorDetail(t).then((function(t){e.loading=!1,1e3===t.data.code&&e.$router.push({name:"login",path:"/login"}),0===t.data.code?e.questionDetail=t.data.data[0]:e.$message({message:t.data.msg,typr:"warning"})})).catch((function(t){e.loading=!1,e.$message({message:"获取失败",type:"warning"})}))},chooseClass:function(){var t=this;""===this.source?this.$message({message:"请选择一个题库",type:"warning"}):""!==this.source&&this.sourceList.map((function(e){e.value==t.source&&(t.data.criteria.questionLibraryIds=[],t.data.criteria.questionLibraryIds[0]=e.key)})),""===this.classname||"不限"===this.classname?this.data.criteria.subjectId=null:this.classList.map((function(e){e.value===t.classname&&(t.data.criteria.subjectId=e.key)})),""===this.topicType||"不限"===this.topicType?(this.data.criteria.type=0,this.type=!1):(this.type=!0,this.questionType.map((function(e){e.value===t.topicType&&(t.data.criteria.type=e.key)}))),""===this.easyType||"不限"===this.easyType?this.data.criteria.level=null:this.diffcult.map((function(e){e.value===t.easyType&&(t.data.criteria.level=e.key)})),""!==this.size&&(this.data.size=Number(this.size)),""!==this.source&&(this.loading=!0,this.$api.getRandomQuestion(this.data).then((function(e){t.loading=!1,0===e.data.code?(t.showselect=!t.showselect,t.index=0,t.questionId=[],t.questionId=e.data.data,t.beginTime=Date.parse(new Date),t.getInfo(e.data.data[t.index])):t.$message({message:"暂时没有足够的题目",type:"warning"})})).catch((function(e){t.loading=!1})))},chooseRadio:function(t){this.radioing="",0===t&&(this.radioing="A"),1===t&&(this.radioing="B"),2===t&&(this.radioing="C"),3===t&&(this.radioing="D"),4===t&&(this.radioing="E"),5===t&&(this.radioing="F"),this.radioing===this.questionDetail.answers[0].content?this.result=!0:this.result=!1},juage:function(t){var e="";"judge1"===t&&(e="正确"),"judge2"===t&&(e="错误"),e===this.questionDetail.answers[0].content?this.result=!0:this.result=!1},checkbox:function(t){var e=[];t.map((function(t){0===t&&e.push("A"),1===t&&e.push("B"),2===t&&e.push("C"),3===t&&e.push("D"),4===t&&e.push("E"),5===t&&e.push("F")})),e=e.sort();var i=[];this.questionDetail.answers.map((function(t){i.push(t.content)})),this.compare(i,e)?this.result=!0:this.result=!1},compare:function(t,e){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},unique:function(t){for(var e=0;e<t.length;e++)for(var i=e+1;i<t.length;i++)t[e]==t[i]&&(t.splice(i,1),i--);return t}},mounted:function(){this.getdict(),this.getWorkList(),this.flag=this.$route.query.flag},watch:{},computed:{}}),o=n,r=(i("c0d0"),i("2877")),c=Object(r["a"])(o,s,a,!1,null,"0c6aafcb",null);e["default"]=c.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var s=i("1d80"),a=i("5899"),n="["+a+"]",o=RegExp("^"+n+n+"*"),r=RegExp(n+n+"*$"),c=function(t){return function(e){var i=String(s(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(r,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5f35":function(t,e,i){},a9e3:function(t,e,i){"use strict";var s=i("83ab"),a=i("da84"),n=i("94ca"),o=i("6eeb"),r=i("5135"),c=i("c6b6"),l=i("7156"),d=i("c04e"),u=i("d039"),h=i("7c73"),p=i("241c").f,v=i("06cf").f,g=i("9bf2").f,f=i("58a8").trim,m="Number",y=a[m],b=y.prototype,_=c(h(b))==m,w=function(t){var e,i,s,a,n,o,r,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=f(l),e=l.charCodeAt(0),43===e||45===e){if(i=l.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+l}for(n=l.slice(2),o=n.length,r=0;r<o;r++)if(c=n.charCodeAt(r),c<48||c>a)return NaN;return parseInt(n,s)}return+l};if(n(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var k,x=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof x&&(_?u((function(){b.valueOf.call(i)})):c(i)!=m)?l(new y(w(e)),i,x):w(e)},I=s?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;I.length>C;C++)r(y,k=I[C])&&!r(x,k)&&g(x,k,v(y,k));x.prototype=b,b.constructor=x,o(a,m,x)}},b0c0:function(t,e,i){var s=i("83ab"),a=i("9bf2").f,n=Function.prototype,o=n.toString,r=/^\s*function ([^ (]*)/,c="name";s&&!(c in n)&&a(n,c,{configurable:!0,get:function(){try{return o.call(this).match(r)[1]}catch(t){return""}}})},b727:function(t,e,i){var s=i("0366"),a=i("44ad"),n=i("7b0b"),o=i("50c4"),r=i("65f0"),c=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,d=4==t,u=6==t,h=5==t||u;return function(p,v,g,f){for(var m,y,b=n(p),_=a(b),w=s(v,g,3),k=o(_.length),x=0,I=f||r,C=e?I(p,k):i?I(p,0):void 0;k>x;x++)if((h||x in _)&&(m=_[x],y=w(m,x,b),t))if(e)C[x]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:c.call(C,m)}else if(d)return!1;return u?-1:l||d?d:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c0d0:function(t,e,i){"use strict";var s=i("5f35"),a=i.n(s);a.a},cabe:function(t,e,i){t.exports=i.p+"assets/img/light-bulb.png"},d81d:function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").map,n=i("1dde"),o=i("ae40"),r=n("map"),c=o("map");s({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);