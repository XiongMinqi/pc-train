(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mistake"],{5136:function(e,t,a){"use strict";var i=a("eec6"),s=a.n(i);s.a},b727:function(e,t,a){var i=a("0366"),s=a("44ad"),n=a("7b0b"),o=a("50c4"),r=a("65f0"),l=[].push,d=function(e){var t=1==e,a=2==e,d=3==e,c=4==e,u=6==e,p=5==e||u;return function(g,v,h,m){for(var _,f,y=n(g),b=s(y),k=i(v,h,3),x=o(b.length),q=0,C=m||r,w=t?C(g,x):a?C(g,0):void 0;x>q;q++)if((p||q in b)&&(_=b[q],f=k(_,q,y),e))if(t)w[q]=f;else if(f)switch(e){case 3:return!0;case 5:return _;case 6:return q;case 2:l.call(w,_)}else if(c)return!1;return u?-1:d||c?c:w}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},cd08:function(e,t,a){e.exports=a.p+"assets/img/mistake.png"},cefe:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"choose"},[a("div",{staticClass:"subject"},[a("el-select",{attrs:{placeholder:"请选择问题类型"},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}},[a("el-option",{attrs:{value:"不限"}}),e._l(e.questionType,(function(e){return a("el-option",{key:e.key,attrs:{value:e.value}})}))],2)],1),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.chooseClass}},[e._v("开始筛选")])],1),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.wrongQuestion}},[e._v("错题练习")])],1)]),e.errorList.length>0?a("div",e._l(e.errorList,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"mistake"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[e._m(0,!0),a("div",{staticStyle:{"margin-left":"20px"}},[a("div",{staticClass:"name"},e._l(e.questionType,(function(i,s){return a("div",{key:s,staticClass:"questiontype"},[t.type==i.key?a("div",{staticStyle:{"padding-bottom":"5px"}},[a("span",{staticStyle:{"font-weight":"bold",color:"blue"}},[e._v("【"+e._s(i.value)+"】")]),a("span",{staticStyle:{color:"red"}},[e._v("做错次数 ："+e._s(t.wrongCount)+"次")])]):e._e()])})),0),a("div",{staticClass:"questioncontent"},[e._v(e._s(t.content))]),a("div",{staticStyle:{"font-size":"12px",color:"#a5a5a5","padding-left":"6px"}},[a("span",{staticStyle:{color:"rgb(204, 51, 82)"}},[e._v(" 困难程度: "),a("span",[0===t.level?a("span",[e._v("简单")]):e._e(),1===t.level?a("span",[e._v("普通")]):e._e(),2===t.level?a("span",[e._v("困难")]):e._e()])]),e._v(" | "),a("span",{staticStyle:{color:"purple"}},[e._v("所属专业 : "+e._s(t.majorname))]),e._v(" | "),a("span",{staticStyle:{color:"#EE6911"}},[e._v("所属部门 : "+e._s(t.departname))]),e._v(" | "),a("span",{staticStyle:{color:"green"}},[e._v("分数 ："+e._s(t.defaultScore)+"分")]),e._v(" | ")])])]),a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(a){return e.checkDetail(t)}}},[e._v("错题重做")])],1),a("div",[a("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(a){return e.deleteQuestion(t)}}},[e._v("删除错题")])],1)])])])})),0):a("div",{staticClass:"else"},[e._v("暂无数据")]),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"错题详情",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogloading,expression:"dialogloading"}]},[a("div",{staticClass:"detail"},[e._l(e.questionType,(function(t,i){return a("div",{key:i,staticClass:"questiontype"},[e.questionDetail.type==t.key?a("span",[e._v("【"+e._s(t.value)+"】")]):e._e()])})),a("div",{staticClass:"content"},[e._v(e._s(e.questionDetail.content))])],2),a("div",[0==e.questionDetail.type?a("div",e._l(e.questionDetail.options,(function(t,i){return a("div",{key:i},[a("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("el-radio",{attrs:{label:t.order}},[0===t.order?a("span",[e._v("A、")]):e._e(),1===t.order?a("span",[e._v("B、")]):e._e(),2===t.order?a("span",[e._v("C、")]):e._e(),3===t.order?a("span",[e._v("D、")]):e._e(),e._v(" "+e._s(t.content)+" ")])],1)],1)})),0):e._e(),3==e.questionDetail.type?a("div",[a("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("div",{staticStyle:{padding:"0 0 10px 0"}},[a("el-radio",{attrs:{label:"judge1"}},[e._v("正确")])],1),a("div",[a("el-radio",{attrs:{label:"judge2"}},[e._v("错误")])],1)])],1):e._e(),1==e.questionDetail.type?a("div",e._l(e.questionDetail.options,(function(t,i){return a("div",{key:i},[a("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:t.content}},[0===t.order?a("span",[e._v("A、")]):e._e(),1===t.order?a("span",[e._v("B、")]):e._e(),2===t.order?a("span",[e._v("C、")]):e._e(),3===t.order?a("span",[e._v("D、")]):e._e(),4===t.order?a("span",[e._v("E、")]):e._e(),5===t.order?a("span",[e._v("F、")]):e._e(),e._v(" "+e._s(t.content)+" ")])],1)],1)})),0):e._e(),2==e.questionDetail.type||4==e.questionDetail.type||5==e.questionDetail.type?a("div",[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1):e._e()]),e.disappear?a("div",{staticStyle:{display:"flex","align-items":"center","padding-top":"20px"}},[a("div",[e._v("正确答案 :")]),1==e.questionDetail.type?a("div",{staticStyle:{"padding-left":"10px",color:"green"}},e._l(e.questionDetail.answers,(function(t,i){return a("span",{key:i},[a("span",[e._v(e._s(t.content))])])})),0):a("div",{staticStyle:{"padding-left":"10px",color:"green"}},[e._v(e._s(e.questionDetail.answers[0].content))])]):e._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)])],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"userImg"},[i("img",{attrs:{src:a("cd08"),alt:""}})])}],n=(a("d81d"),{data:function(){return{questionType:[],errorList:[],question:"不限",status:null,page:1,limit:5,disappear:!1,total:0,currentPage:1,questionDetail:{},dialogFormVisible:!1,closeDialog:!1,formLabelWidth:"120px",radio:"",checkList:[],textarea:"",judge1:"",judge2:"",department:[],major:[],loading:!0,dialogloading:!1}},components:{},methods:{handleSizeChange:function(e){this.loading=!0,this.page=1,this.limit=e,this.getErrorList()},handleCurrentChange:function(e){this.loading=!0,this.page=e,this.getErrorList()},close:function(){this.disappear=!1,this.textarea="",this.radio="",this.judge1="",this.judge2="",this.checkList=[],this.closeDialog=!1},submit:function(){(""!=this.textarea||""!==this.radio||this.checkList.length>0||""!=this.judge1||""!=this.judge2)&&!1===this.closeDialog?(this.disappear=!0,this.closeDialog=!0):this.dialogFormVisible=!1},deleteQuestion:function(e){var t=this;this.$grade.deleteMistake(e.id).then((function(e){1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code?(t.$message({message:"删除成功",type:"success"}),t.loading=!0,t.getErrorList()):t.$message({message:e.data.msg,type:"warning"})})).catch((function(e){t.$message({message:"获取失败",type:"warning"})}))},wrongQuestion:function(){this.$router.push({name:"online",path:"/online",query:{flag:!0}})},checkDetail:function(e){var t=this;this.dialogFormVisible=!0,this.dialogloading=!0,this.$grade.getErrorDetail(e.id).then((function(e){t.dialogloading=!1,1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code?t.questionDetail=e.data.data[0]:t.$message({message:e.data.msg,typr:"warning"})})).catch((function(e){t.dialogloading=!1}))},getQuestionType:function(){var e=this;this.$grade.getdict().then((function(t){e.loading=!1,1e3===t.data.code&&e.$router.push({name:"login",path:"/login"}),0===t.data.code?(e.questionType=t.data.data[0]["题目类型"],e.major=t.data.data[0]["专业名称"],e.department=t.data.data[0]["部门名称"],e.getErrorList()):e.$message({message:t.data.msg,type:"warning"})})).catch((function(t){e.loading=!1,e.$message({message:t.data.msg,type:"warning"})}))},chooseClass:function(){var e=this;this.loading=!0,this.currentPage=1,this.page=1,"不限"===this.question&&(this.status=null),this.questionType.map((function(t){t.value===e.question&&(e.status=t.key)})),this.getErrorList()},getErrorList:function(){var e=this;this.$grade.getMistake(this.page,this.limit,this.status).then((function(t){e.loading=!1,1e3===t.data.code&&e.$router.push({name:"login",path:"/login"}),0===t.data.code?(e.errorList=t.data.data,e.total=t.data.count,e.errorList.map((function(t){e.major.map((function(a){t.majorId==a.key&&e.$set(t,"majorname",a.value)})),e.department.map((function(a){t.departmentId==a.key&&e.$set(t,"departname",a.value)}))}))):e.$message({message:t.data.msg,typr:"warning"})})).catch((function(t){e.loading=!1,e.$message({message:t.data.msg,type:"warning"})}))}},mounted:function(){this.getQuestionType()},watch:{},computed:{}}),o=n,r=(a("5136"),a("2877")),l=Object(r["a"])(o,i,s,!1,null,"b6ea9ebe",null);t["default"]=l.exports},d81d:function(e,t,a){"use strict";var i=a("23e7"),s=a("b727").map,n=a("1dde"),o=a("ae40"),r=n("map"),l=o("map");i({target:"Array",proto:!0,forced:!r||!l},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},eec6:function(e,t,a){}}]);