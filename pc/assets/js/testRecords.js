(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["testRecords"],{"14a8":function(t,e,s){"use strict";var i=s("e597"),a=s.n(i);a.a},2254:function(t,e,s){t.exports=s.p+"assets/img/right.png"},"491c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[s("div",{staticClass:"choose"},[s("div",{staticClass:"classname"},[s("el-select",{attrs:{placeholder:"请选择科目"},model:{value:t.subname,callback:function(e){t.subname=e},expression:"subname"}},[s("el-option",{key:"",attrs:{value:"不限"}}),t._l(t.subjectName,(function(t){return s("el-option",{key:t.key,attrs:{value:t.value}})}))],2)],1),s("div",{staticClass:"classname"},[s("el-input",{attrs:{maxlength:"30","show-word-limit":"",clearable:"",placeholder:"请输入考试名称"},model:{value:t.paperName,callback:function(e){t.paperName=e},expression:"paperName"}})],1),s("div",{staticClass:"btn"},[s("el-button",{attrs:{type:"primary",plain:""},on:{click:t.getTestExam}},[t._v("开始筛选")])],1)]),s("el-divider",[t._v("考试记录")]),s("div",{staticClass:"indexLeft"},[s("el-radio-group",{on:{change:t.chooseradio},model:{value:t.choosetype,callback:function(e){t.choosetype=e},expression:"choosetype"}},[s("el-radio-button",{attrs:{label:"all"}},[s("i",{staticClass:"el-icon-plus iconfont"}),t._v(" 全部试卷("+t._s(t.total)+") ")]),s("el-radio-button",{attrs:{label:"pass"}},[s("i",{staticClass:"el-icon-check iconfont"}),t._v(" 及格试卷("+t._s(t.pass)+") ")]),s("el-radio-button",{attrs:{label:"fail"}},[s("i",{staticClass:"el-icon-close iconfont"}),t._v(" 不及格试卷("+t._s(t.fail)+") ")]),s("el-radio-button",{attrs:{label:"empty"}},[s("i",{staticClass:"el-icon-minus iconfont"}),t._v(" 未做试卷("+t._s(t.empty)+") ")])],1)],1),s("div",{staticClass:"scroll"},[t.showRecord?s("div",[t.allTestList.length>0?s("div",{staticClass:"infinite-list",staticStyle:{overflow:"auto"}},[s("div",[t._m(0),s("div",t._l(t.allTestList,(function(e,i){return s("div",{key:i},[s("div",{staticClass:"flex formTextWords indexText"},[i>=9?s("div",{staticClass:"index"},[t._v(t._s(i+1))]):t._e(),i<9?s("div",{staticClass:"index"},[t._v("0"+t._s(i+1))]):t._e(),s("div",{staticClass:"testName"},[t._v(t._s(e.examName))]),s("div",{staticClass:"subject"},[e.subjectId?s("span",[s("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.subjextName))])],1):s("span",[t._v("---")])]),e.beginWriteTime?s("div",{staticClass:"testTime"},[t._v(t._s(e.beginWriteTime))]):s("div",{staticClass:"testTime"},[t._v("---")]),e.costMinutes?s("div",{staticClass:"duringTime"},[t._v(t._s(e.costMinutes))]):s("div",{staticClass:"duringTime"},[t._v("---")]),s("div",{staticClass:"score"},[t._v(t._s(e.totalScore))]),s("div",{staticClass:"score"},[t._v(t._s(e.score))]),s("div",{staticClass:"duringTime"},[!0===e.isPass?s("div",{staticClass:"bg-success"},[s("el-tag",{attrs:{type:"success"}},[t._v("已通过")])],1):null===e.isPass?s("div",{staticClass:"bg-info"},[s("el-tag",{attrs:{type:"info"}},[t._v("未交卷")])],1):s("div",{staticClass:"bg-danger"},[s("el-tag",{attrs:{type:"danger"}},[t._v("不及格")])],1)]),s("div",{staticClass:"operation",class:e.submitId?"bg-primary":"bg-info",on:{click:function(s){return t.checkDetail(e)}}},[s("span",[t._v("查看明细")])])])])})),0),s("el-dialog",{attrs:{width:"80%",title:"试卷明细",top:"1vh",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.submitPaperloading,expression:"submitPaperloading"}]},[s("submitPaper",{attrs:{submitId:t.submitId,paperDetail:t.paperDetail}})],1)])],1),s("div",{staticClass:"block"},[s("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,15,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):s("div",{staticClass:"else"})]):t._e()])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex"},[s("div",{staticClass:"index"},[t._v("序号")]),s("div",{staticClass:"testName"},[t._v("考试名称")]),s("div",{staticClass:"subject"},[t._v("科目")]),s("div",{staticClass:"testTime"},[t._v("开始答题时间")]),s("div",{staticClass:"duringTime"},[t._v("考试用时")]),s("div",{staticClass:"score"},[t._v("总分")]),s("div",{staticClass:"score"},[t._v("得分")]),s("div",{staticClass:"duringTime"},[t._v("及格情况")]),s("div",{staticClass:"operation"},[t._v("操作")])])}],n=(s("c975"),s("d81d"),s("fb6a"),s("a9e3"),s("ade3")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"grid-content"},[t._v(" 试卷名称 ： "),i("span",[t._v(t._s(t.paperMsg.name))])])])],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content"},[t._v(" 考试者 ： "),i("span",[t._v(t._s(t.userInfo.nickName))])])]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content"},[t._v(" 学员得分 : "),i("span",[t._v(t._s(t.paperDetail.score))])])])],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content"},[t._v(" 开始时间 : "),i("span",[t._v(t._s(t.paperDetail.beginWriteTime))])])]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content"},[t._v(" 结束时间 : "),i("span",[t._v(t._s(t.paperDetail.endWriteTime))])])])],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content"},[t._v(" 试卷总分 : "),i("span",[t._v(t._s(t.paperDetail.totalScore))])])]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content"},[t._v(" 考试用时 : "),i("span",[t._v(t._s(t.paperDetail.costMinutes)+"分钟")])])])],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content bg-purple span",class:0===t.number?"bgblue":"bg-purple",on:{click:t.checkAll}},[i("b",[t._v("全部题("+t._s(t.allList.length)+")")])])]),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content bg-purple-light span",class:1===t.number?"bgblue":"bg-purple-light",on:{click:t.checkRight}},[i("b",[t._v("答对题("+t._s(t.rightList.length)+")")])])]),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content bg-purple span",class:2===t.number?"bgblue":"bg-purple",on:{click:t.checkErr}},[i("b",[t._v("答错题("+t._s(t.errList.length)+")")])])]),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content bg-purple-light span",class:3===t.number?"bgblue":"bg-purple-light",on:{click:t.checkEmpty}},[i("b",[t._v("未答题("+t._s(t.emptyList.length)+")")])])])],1),i("div",{staticClass:"infinite-list",staticStyle:{overflow:"auto"}},[t.publicList.length>0?i("div",t._l(t.publicList,(function(e,a){return i("div",{key:a,staticClass:"titleDetail"},[i("div",{staticClass:"title"},[i("div",{staticStyle:{width:"3%"}},[i("div",a<9?[t._v("0"+t._s(a+1)+"、")]:[t._v(t._s(a+1)+"、")])]),i("div",{class:4===e.question.type?"name":"public",staticStyle:{width:"6%"}},[0===e.question.type?i("span",[t._v("【单选】")]):t._e(),1===e.question.type?i("span",[t._v("【多选】")]):t._e(),2===e.question.type?i("span",[t._v("【填空】")]):t._e(),3===e.question.type?i("span",[t._v("【判断】")]):t._e(),4===e.question.type?i("span",[t._v("【名词解释】")]):t._e(),5===e.question.type?i("span",[t._v("【问答】")]):t._e()]),i("div",{staticStyle:{width:"88%"}},[t._v(t._s(e.question.content))])]),i("div",[e.question.options.length>0&&0===e.question.type||1===e.question.type?i("div",t._l(e.question.options,(function(e,s){return i("div",{key:s,staticClass:"chooices"},[0==s?i("div",[t._v("A")]):t._e(),1==s?i("div",[t._v("B")]):t._e(),2==s?i("div",[t._v("C")]):t._e(),3==s?i("div",[t._v("D")]):t._e(),i("div",[t._v("、"+t._s(e.content))])])})),0):t._e(),3===e.question.type?i("div",{},[i("div",{staticClass:"chooices"},[t._v("正确")]),i("div",{staticClass:"chooices"},[t._v("错误")])]):t._e()]),i("div",{staticClass:"jiexi",staticStyle:{"padding-left":"4%"}},[i("div",[i("div",{staticClass:"writeAnswer",staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{"padding-right":"10px",width:"6%"}},[t._v("考生答案")]),e.answer.ksAnswerContents.length>0?i("div",{},[!0===e.answer.right?i("div",{staticClass:"bggreens"},t._l(e.answer.ksAnswerContents,(function(e,s){return i("span",{key:s,staticStyle:{"padding-left":"10px"}},[i("span",[t._v(t._s(e.content))])])})),0):i("div",{staticClass:"bgreds"},t._l(e.answer.ksAnswerContents,(function(e,s){return i("span",{key:s,staticStyle:{"padding-left":"10px"}},[i("span",[t._v(t._s(e.content))])])})),0)]):i("div",{staticClass:"unanwser",staticStyle:{color:"#ff0000"}},[t._v("该题考生未作答")])]),i("div",{staticClass:"currectAnswer",staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{"padding-right":"10px",width:"6%"}},[t._v("正确答案")]),e.question.answers.length>0?i("div",{staticStyle:{color:"#007AFF",width:"90%"}},t._l(e.question.answers,(function(e,s){return i("span",{key:s,staticStyle:{"padding-left":"10px"}},[i("span",[t._v(t._s(e.content))])])})),0):t._e()]),i("div",{staticClass:"score",staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{"padding-right":"10px",width:"6%"}},[t._v("分数")]),null===e.answer.score?i("div",{staticStyle:{color:"#007AFF"}},[t._v("0")]):i("div",{staticStyle:{color:"#007AFF"}},[t._v(t._s(e.answer.score)+"/"+t._s(e.question.defaultScore))]),i("div",{staticClass:"result"},[!0===e.answer.right?i("div",[i("img",{attrs:{src:s("2254"),alt:""}})]):t._e(),!1===e.answer.right?i("div",[i("img",{attrs:{src:s("bb31"),alt:""}})]):t._e()])])]),i("div",{staticClass:"jiexi-text",staticStyle:{"margin-bottom":"70rpx"}},[i("div",{staticStyle:{"font-weight":"600","padding-bottom":"10px"}},[t._v("题目分析:")]),e.question.answerResolve?i("div",[t._v(t._s(e.question.answerResolve))]):i("div",[t._v("该题暂无解析")])])])])})),0):i("div",{staticClass:"else"})])],1)},r=[],c={data:function(){return{number:0,paperMsg:{},userInfo:{},allList:[],rightList:[],errList:[],emptyList:[],publicList:[],loading:!0}},props:{submitId:{type:Number,required:!0},paperDetail:{type:Object,require:!0}},components:{},methods:{getSubmitPaper:function(){var t=this;this.$grade.getSubmitPaper(this.submitId).then((function(e){t.loading=!1,1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code?(t.paperMsg=e.data.data[0],t.allList=[],t.emptyList=[],t.rightList=[],t.errList=[],e.data.data[0].actualAnswer.map((function(s,i){var a={question:e.data.data[0].tkQuestions[i],answer:e.data.data[0].actualAnswer[i]};t.allList.push(a),!0===s.right?t.rightList.push(a):!1===s.right&&(s.ksAnswerContents.length>0?t.errList.push(a):t.emptyList.push(a))})),t.publicList=t.allList):t.$message({message:e.data.msg,type:"warning"})})).catch((function(e){t.loading=!1}))},checkAll:function(){this.number=0,this.publicList=[],this.publicList=this.allList},checkRight:function(){this.number=1,this.publicList=[],this.publicList=this.rightList},checkErr:function(){this.number=2,this.publicList=[],this.publicList=this.errList},checkEmpty:function(){this.number=3,this.publicList=[],this.publicList=this.emptyList}},mounted:function(){this.getSubmitPaper(),this.userInfo=JSON.parse(localStorage.getItem("userInfo"))},watch:{submitId:{handler:function(t,e){this.submitId=t,this.getSubmitPaper(),this.loading=!0},deep:!0},paperDetail:{handler:function(t,e){this.loading=!0,this.paperDetail=t,this.paperDetail.beginWriteTime=this.timeFormat(this.paperDetail.beginWriteTime),this.paperDetail.endWriteTime=this.timeFormat(this.paperDetail.endWriteTime)},deep:!0}},computed:{}},o=c,d=(s("dcc1"),s("2877")),u=Object(d["a"])(o,l,r,!1,null,"5b746dfb",null),p=u.exports,g={data:function(){var t;return t={showRecord:!1,examList:[],allTestList:[],choosetype:"all",page:1,limit:5,status:null,totalNum:0,total:0,pass:0,fail:0,empty:0,dialogTableVisible:!1,submitId:0,currentPage:1},Object(n["a"])(t,"total",0),Object(n["a"])(t,"paperDetail",{}),Object(n["a"])(t,"subjectName",[]),Object(n["a"])(t,"loading",!0),Object(n["a"])(t,"submitPaperloading",!1),Object(n["a"])(t,"paperName",""),Object(n["a"])(t,"subname","不限"),t},components:{submitPaper:p},methods:{chooseradio:function(){console.log(this.choosetype),"all"===this.choosetype&&(this.status=null,this.page=1,this.getTestExam()),"pass"===this.choosetype&&(this.status=0,this.page=1,this.getTestExam()),"fail"===this.choosetype&&(this.status=1,this.page=1,this.getTestExam()),"empty"===this.choosetype&&(this.status=2,this.page=1,this.getTestExam())},goTo:function(t){this.status=t,this.page=1,this.getTestExam()},handleSizeChange:function(t){this.loading=!0,this.page=1,this.limit=t,this.getTestExam()},handleCurrentChange:function(t){this.loading=!0,this.page=t,this.getTestExam()},checkDetail:function(t){t.submitId?(this.submitId=t.submitId,this.paperDetail={},this.paperDetail=t,this.dialogTableVisible=!0):this.$message({message:"抱歉，该场考试无法查看明细",type:"warning"})},twoNumber:function(t){var e=t;if(-1==e.indexOf("."))return t+".00";var s=e.length,i=e.indexOf(".");return s>i+2?e.slice(0,i+3):s==i+2?e+"0":e},getSubjectName:function(){var t=this;this.$grade.getdict().then((function(e){t.loading=!1,1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code?(t.getTestExam(),t.subjectName=e.data.data[0]["科目名称"]):t.$message({message:e.data.msg,type:"warning"})})).catch((function(e){t.loading=!1}))},getTestNumber:function(){var t=this;this.$grade.gettestNumber().then((function(e){t.loading=!1,0===e.data.code?(t.total=e.data.data[0].totalCount,t.totalNum=e.data.data[0].totalCount,t.pass=e.data.data[0].successCount,t.fail=e.data.data[0].failCount,t.empty=e.data.data[0].undoCount):t.$message({message:e.data.msg,type:"warning"})})).catch((function(e){t.loading=!1}))},getTestExam:function(){var t=this;this.loading=!0,"不限"===this.subname?this.subjectId=null:this.subjectName.map((function(e){t.subname===e.value&&(t.subjectId=Number(e.key))}));var e={page:this.page,limit:this.limit,object:{examName:this.paperName,status:this.status,subjectId:this.subjectId}};this.$grade.getExam(e).then((function(e){t.loading=!1,t.showRecord=!0,1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code?(t.allTestList=e.data.data,t.totalNum=e.data.count,t.allTestList.map((function(e){e.beginTime=t.timeFormat(e.beginTime),e.endWriteTime=t.timeFormat(e.endWriteTime),e.beginWriteTime&&(e.beginWriteTime=t.timeFormat(e.beginWriteTime)),t.subjectName.map((function(s){s.key==e.subjectId&&t.$set(e,"subjextName",s.value)}))}))):t.$message({message:e.data.msg,type:"warning"})})).catch((function(e){t.loading=!1,t.showRecord=!0}))}},mounted:function(){this.getTestNumber(),this.getSubjectName()},watch:{},computed:{}},v=g,h=(s("14a8"),Object(d["a"])(v,i,a,!1,null,"17cdc005",null));e["default"]=h.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var i=s("1d80"),a=s("5899"),n="["+a+"]",l=RegExp("^"+n+n+"*"),r=RegExp(n+n+"*$"),c=function(t){return function(e){var s=String(i(e));return 1&t&&(s=s.replace(l,"")),2&t&&(s=s.replace(r,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},a9e3:function(t,e,s){"use strict";var i=s("83ab"),a=s("da84"),n=s("94ca"),l=s("6eeb"),r=s("5135"),c=s("c6b6"),o=s("7156"),d=s("c04e"),u=s("d039"),p=s("7c73"),g=s("241c").f,v=s("06cf").f,h=s("9bf2").f,m=s("58a8").trim,b="Number",f=a[b],_=f.prototype,y=c(p(_))==b,C=function(t){var e,s,i,a,n,l,r,c,o=d(t,!1);if("string"==typeof o&&o.length>2)if(o=m(o),e=o.charCodeAt(0),43===e||45===e){if(s=o.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(o.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+o}for(n=o.slice(2),l=n.length,r=0;r<l;r++)if(c=n.charCodeAt(r),c<48||c>a)return NaN;return parseInt(n,i)}return+o};if(n(b,!f(" 0o1")||!f("0b1")||f("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof x&&(y?u((function(){_.valueOf.call(s)})):c(s)!=b)?o(new f(C(e)),s,x):C(e)},T=i?g(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;T.length>N;N++)r(f,w=T[N])&&!r(x,w)&&h(x,w,v(f,w));x.prototype=_,_.constructor=x,l(a,b,x)}},b727:function(t,e,s){var i=s("0366"),a=s("44ad"),n=s("7b0b"),l=s("50c4"),r=s("65f0"),c=[].push,o=function(t){var e=1==t,s=2==t,o=3==t,d=4==t,u=6==t,p=5==t||u;return function(g,v,h,m){for(var b,f,_=n(g),y=a(_),C=i(v,h,3),w=l(y.length),x=0,T=m||r,N=e?T(g,w):s?T(g,0):void 0;w>x;x++)if((p||x in y)&&(b=y[x],f=C(b,x,_),t))if(e)N[x]=f;else if(f)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:c.call(N,b)}else if(d)return!1;return u?-1:o||d?d:N}};t.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},bb31:function(t,e,s){t.exports=s.p+"assets/img/error.png"},d81d:function(t,e,s){"use strict";var i=s("23e7"),a=s("b727").map,n=s("1dde"),l=s("ae40"),r=n("map"),c=l("map");i({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},dcc1:function(t,e,s){"use strict";var i=s("fd64"),a=s.n(i);a.a},e597:function(t,e,s){},fb6a:function(t,e,s){"use strict";var i=s("23e7"),a=s("861d"),n=s("e8b5"),l=s("23cb"),r=s("50c4"),c=s("fc6a"),o=s("8418"),d=s("b622"),u=s("1dde"),p=s("ae40"),g=u("slice"),v=p("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),m=[].slice,b=Math.max;i({target:"Array",proto:!0,forced:!g||!v},{slice:function(t,e){var s,i,d,u=c(this),p=r(u.length),g=l(t,p),v=l(void 0===e?p:e,p);if(n(u)&&(s=u.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?a(s)&&(s=s[h],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return m.call(u,g,v);for(i=new(void 0===s?Array:s)(b(v-g,0)),d=0;g<v;g++,d++)g in u&&o(i,d,u[g]);return i.length=d,i}})},fd64:function(t,e,s){}}]);