(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-053f8f6e"],{"45eb":function(t,e,a){"use strict";var s=a("4828"),n=a.n(s);n.a},4828:function(t,e,a){},ad26:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.testList.length>0?a("div",[t._l(t.testList,(function(e,s){return a("div",{key:s,staticClass:"flex"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[t._m(0,!0),a("div",{staticStyle:{"margin-left":"20px"}},[a("div",{staticClass:"name",staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.name))]),a("div",[t._v(" 专业 : "+t._s(e.majorname)+" | 部门 : "+t._s(e.departname)+" | 总分 ： "+t._s(e.totalScore)+"分 | 及格分数: "),a("span",{staticStyle:{color:"#3C3CC4"}},[t._v(t._s(e.passScore)+"分")])]),a("div",[t._v(" 创建时间 : "+t._s(e.publishTime)+" | "),a("span",{staticStyle:{color:"#CC3352"}},[t._v("截止时间 : "+t._s(e.expirationTime))])])])]),a("div",[a("div",[1===e.status||3===e.status||4===e.status?a("div",{on:{click:function(a){return t.showToast(e)}}},[a("el-button",{attrs:{type:"danger",round:""}},[t._v("进入考试")])],1):t._e(),2===e.status?a("div",{on:{click:function(a){return t.onlineTest(e)}}},[a("el-button",{attrs:{type:"primary",round:""}},[t._v("进入考试")])],1):t._e()])])])})),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,15,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2):a("div",{staticStyle:{padding:"30px"}},[t._v("暂无考试")])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userImg"},[a("img",{attrs:{src:"http://pic.51yuansu.com/pic3/cover/01/02/80/590085d34c319_610.jpg",alt:""}})])}],i=(a("d81d"),{data:function(){return{currentPage:1,offset:1,limit:5,total:0,testList:[],major:[],department:[]}},components:{},methods:{timeFormat:function(t){var e="",a=new Date(t),s=a.getFullYear(),n=a.getMonth()+1,i=a.getDate(),o=a.getHours(),r=a.getMinutes(),c=a.getSeconds();return e+=s+"/",n<10&&(e+="0"),e+=n+"/",i<10&&(e+="0"),e+=i+" ",o<10&&(e+="0"),e+=o+":",r<10&&(e+="0"),e+=r+":",c<10&&(e+="0"),e+=c,e},getTest:function(){var t=this;this.$onlineTest.getTestInfo(this.offset,this.limit).then((function(e){1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code&&(t.total=e.data.count,t.testList=e.data.data,t.testList.map((function(e){e.publishTime=t.timeFormat(e.publishTime),e.createTime=t.timeFormat(e.createTime);var a=Date.parse(new Date(e.publishTime))+6e4*e.minutes;t.major.map((function(a){e.majorId==a.key&&t.$set(e,"majorname",a.value)})),t.department.map((function(a){e.departmentId==a.key&&t.$set(e,"departname",a.value)})),t.$set(e,"expirationTime",t.timeFormat(a))})),console.log(t.testList))})).catch((function(t){console.log(t)}))},showToast:function(t){console.log(t),1===t.status&&this.$message({message:"抱歉，考试时间还未开始，不能进入该场考试",type:"warning"}),3!==t.status&&4!==t.status||this.$message({message:"抱歉，考试时间已过，不能再进入该场考试",type:"error"})},onlineTest:function(t){this.$message({message:"即将进入考试，祝您考试顺利",type:"success"}),this.$router.push({path:"/testIng",query:{paperId:t.paperId,id:t.id}})},handleSizeChange:function(t){this.offset=1,this.limit=t,this.getTest()},handleCurrentChange:function(t){this.offset=t,console.log(this.offset,this.limit),this.getTest()},getSubjectDetail:function(){var t=this;this.$api.getSubject().then((function(e){1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code&&(t.getTest(),t.major=e.data.data[0]["专业名称"],t.department=e.data.data[0]["部门名称"])})).catch((function(t){console.log(t)}))}},mounted:function(){this.getSubjectDetail()},watch:{},computed:{}}),o=i,r=(a("45eb"),a("2877")),c=Object(r["a"])(o,s,n,!1,null,"7cc9ebb5",null);e["default"]=c.exports}}]);