(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["onlineTest"],{"4cdf":function(t,e,a){t.exports=a.p+"assets/img/testlist.png"},"7eab":function(t,e,a){"use strict";var n=a("adc8"),s=a.n(n);s.a},ad26:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.testList.length>0?a("div",[t._l(t.testList,(function(e,n){return a("div",{key:n,staticClass:"flex"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[t._m(0,!0),a("div",{staticStyle:{"margin-left":"20px"}},[a("div",{staticClass:"name",staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.name))]),a("div",[t._v(" 专业 : "+t._s(e.majorname)+" | 部门 : "+t._s(e.departname)+" | 总分 ： "+t._s(e.totalScore)+"分 | 及格分数: "),a("span",{staticStyle:{color:"#3C3CC4"}},[t._v(t._s(e.passScore)+"分")])]),a("div",[t._v(" 创建时间 : "+t._s(e.publishTime)+" | "),a("span",{staticStyle:{color:"#CC3352"}},[t._v("截止时间 : "+t._s(e.expirationTime))])])])]),a("div",[a("div",[1===e.status||3===e.status||4===e.status?a("div",{on:{click:function(a){return t.showToast(e)}}},[a("el-button",{attrs:{type:"danger",round:""}},[t._v("进入考试")])],1):t._e(),2===e.status?a("div",{on:{click:function(a){return t.onlineTest(e)}}},[a("el-button",{attrs:{type:"primary",round:""}},[t._v("进入考试")])],1):t._e()])])])})),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,15,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2):a("div",{staticStyle:{padding:"30px"}},[t._v("暂无考试")])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userImg"},[n("img",{attrs:{src:a("4cdf"),alt:""}})])}],i=(a("d81d"),{data:function(){return{currentPage:1,offset:1,limit:5,total:0,testList:[],major:[],department:[]}},components:{},methods:{timeFormat:function(t){var e="",a=new Date(t),n=a.getFullYear(),s=a.getMonth()+1,i=a.getDate(),r=a.getHours(),o=a.getMinutes(),c=a.getSeconds();return e+=n+"/",s<10&&(e+="0"),e+=s+"/",i<10&&(e+="0"),e+=i+" ",r<10&&(e+="0"),e+=r+":",o<10&&(e+="0"),e+=o+":",c<10&&(e+="0"),e+=c,e},getTest:function(){var t=this;this.$onlineTest.getTestInfo(this.offset,this.limit).then((function(e){1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code?(t.total=e.data.count,t.testList=e.data.data,t.testList.map((function(e){e.publishTime=t.timeFormat(e.publishTime),e.createTime=t.timeFormat(e.createTime);var a=Date.parse(new Date(e.publishTime))+6e4*e.minutes;t.major.map((function(a){e.majorId==a.key&&t.$set(e,"majorname",a.value)})),t.department.map((function(a){e.departmentId==a.key&&t.$set(e,"departname",a.value)})),t.$set(e,"expirationTime",t.timeFormat(a))}))):t.$message({message:e.data.msg,type:"warning"})})).catch((function(t){console.log(t)}))},showToast:function(t){console.log(t),1===t.status&&this.$message({message:"抱歉，考试时间还未开始，不能进入该场考试",type:"warning"}),3!==t.status&&4!==t.status||this.$message({message:"抱歉，考试时间已过，不能再进入该场考试",type:"error"})},onlineTest:function(t){this.$message({message:"即将进入考试，祝您考试顺利",type:"success"}),this.$router.push({path:"/testIng",query:{paperId:t.paperId,id:t.id}})},handleSizeChange:function(t){this.offset=1,this.limit=t,this.getTest()},handleCurrentChange:function(t){this.offset=t,this.getTest()},getSubjectDetail:function(){var t=this;this.$api.getSubject().then((function(e){1e3===e.data.code&&t.$router.push({name:"login",path:"/login"}),0===e.data.code?(t.getTest(),t.major=e.data.data[0]["专业名称"],t.department=e.data.data[0]["部门名称"]):t.$message({message:e.data.msg,type:"warning"})})).catch((function(t){console.log(t)}))}},mounted:function(){this.getSubjectDetail()},watch:{},computed:{}}),r=i,o=(a("7eab"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"1ca736e6",null);e["default"]=c.exports},adc8:function(t,e,a){},ae40:function(t,e,a){var n=a("83ab"),s=a("d039"),i=a("5135"),r=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(i(o,t))return o[t];e||(e={});var a=[][t],u=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:c,d=i(e,1)?e[1]:void 0;return o[t]=!!a&&!s((function(){if(u&&!n)return!0;var t={length:-1};u?r(t,1,{enumerable:!0,get:c}):t[1]=1,a.call(t,l,d)}))}},b727:function(t,e,a){var n=a("0366"),s=a("44ad"),i=a("7b0b"),r=a("50c4"),o=a("65f0"),c=[].push,u=function(t){var e=1==t,a=2==t,u=3==t,l=4==t,d=6==t,m=5==t||d;return function(p,f,g,h){for(var v,b,y=i(p),_=s(y),S=n(f,g,3),C=r(_.length),T=0,w=h||o,$=e?w(p,C):a?w(p,0):void 0;C>T;T++)if((m||T in _)&&(v=_[T],b=S(v,T,y),t))if(e)$[T]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return T;case 2:c.call($,v)}else if(l)return!1;return d?-1:u||l?l:$}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},d81d:function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").map,i=a("1dde"),r=a("ae40"),o=i("map"),c=r("map");n({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);